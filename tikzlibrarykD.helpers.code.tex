% tikzlibrarykD.code.tex
%
% Copyright 2015 by Paolo Brasolin <paolo.brasolin@gmail.com>
%
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
% 
% You should have received a copy of the GNU General Public License
% along with this program.  If not, see <http://www.gnu.org/licenses/>.

% ################################################################ LET'S DANCE #

\def\kDCSDef#1#2{\expandafter\def\csname#1\endcsname{#2}}

\def\kDDefStarred#1\with#2\and#3\GO%
  {\kDCSDef{#1}%
    {\expandafter\futurelet\expandafter\kDMaybeStar\csname#1Maybe\endcsname}%
   \kDCSDef{#1Maybe}%
    {\ifx*\kDMaybeStar\let\next#2\else\let\next#3\fi\next}}

\def\kDGobble#1\with#2\at#3\into#4\GO%
  {\def\Gobbler##1#3##2\GO{#2##1\GO\ifx##2\relax\else\Gobbler##2\GO\fi}%
   \kDCSDef{#4}{\Gobbler#1\GO}}

\def\kDFullExpandAfter#1#2{\edef\tmp{#2}\expandafter#1\tmp}

% #################################################################### THE END #
