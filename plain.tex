%\documentclass[parskip]{scrartcl}
%\usepackage[margin=15mm]{geometry}
\usemodule[tikz]
\usetikzlibrary[arrows,calc]
\def\rotateRPY#1#2#3%
%\newcommand{\rotateRPY}[3]% roll, pitch, yaw
{   \pgfmathsetmacro{\rollangle}{#1}
    \pgfmathsetmacro{\pitchangle}{#2}
    \pgfmathsetmacro{\yawangle}{#3}

    % to what vector is the x unit vector transformed, and which 2D vector is this?
    \pgfmathsetmacro{\newxx}{cos(\yawangle)*cos(\pitchangle)}
    \pgfmathsetmacro{\newxy}{sin(\yawangle)*cos(\pitchangle)}
    \pgfmathsetmacro{\newxz}{-sin(\pitchangle)}
    \path (\newxx,\newxy,\newxz);
    \pgfgetlastxy{\nxx}{\nxy};

    % to what vector is the y unit vector transformed, and which 2D vector is this?
    \pgfmathsetmacro{\newyx}{cos(\yawangle)*sin(\pitchangle)*sin(\rollangle)-sin(\yawangle)*cos(\rollangle)}
    \pgfmathsetmacro{\newyy}{sin(\yawangle)*sin(\pitchangle)*sin(\rollangle)+ cos(\yawangle)*cos(\rollangle)}
    \pgfmathsetmacro{\newyz}{cos(\pitchangle)*sin(\rollangle)}
    \path (\newyx,\newyy,\newyz);
    \pgfgetlastxy{\nyx}{\nyy};

    % to what vector is the z unit vector transformed, and which 2D vector is this?
    \pgfmathsetmacro{\newzx}{cos(\yawangle)*sin(\pitchangle)*cos(\rollangle)+ sin(\yawangle)*sin(\rollangle)}
    \pgfmathsetmacro{\newzy}{sin(\yawangle)*sin(\pitchangle)*cos(\rollangle)-cos(\yawangle)*sin(\rollangle)}
    \pgfmathsetmacro{\newzz}{cos(\pitchangle)*cos(\rollangle)}
    \path (\newzx,\newzy,\newzz);
    \pgfgetlastxy{\nzx}{\nzy};
}

\tikzset{RPY/.style={x={(\nxx,\nxy)},y={(\nyx,\nyy)},z={(\nzx,\nzy)}}}

  \def\phi{(1+sqrt(5))/2}
  \def\sp{1/(\phi*2)}
  \def\sz{sqrt(\phi/2)}
  \def\hz{sqrt(pow(\phi,3)/2)}
  \def\hp{1/2}

\starttext
\starttikzpicture
  \foreach \n/\x/\y in {A/-1/-1,B/1/-1,C/-1/1,D/1/1}
    \node (\n)   at ($0.5*(\x,\y,0)$) {\n};
 % \foreach \m/\n/\x/\y in {A/B/0/-1,B/D/1/0,C/D/0/1,A/C/-1/0}
 %   \node (\m\n) at ($(\m)!0.5!(\n)+\hp*(\x,\y,0)+\hz*(0,0,1)$) {\m\n};
  %\foreach \n/\u in {Y/C,X/B}
  %  \node (\n) at ($(A\u)-(\u\u)+(\u D)$) {\n};
  \draw[-latex] node at (3.5,0,0) {x} (0,0,0) -- (3,0,0);
  \draw[-latex] node at (0,3.5,0) {y} (0,0,0) -- (0,3,0);
  \draw[-latex] node at (0,0,3.5) {z} (0,0,0) -- (0,0,3);
  \rotateRPY{-90}{-36}{0}
  \startscope[draw=red, text=red,fill=red,densely dashed,RPY]
  \foreach \n/\x/\y in {A/-1/-1,B/1/-1,C/-1/1,D/1/1}
    \node (\n)   at ($0.5*(\x,\y,0)$) {\n};
    \draw[-latex] node at (3.5,0,0) {x} (0,0,0) -- (3,0,0);
    \draw[-latex] node at (0,3.5,0) {y} (0,0,0) -- (0,3,0);
    \draw[-latex] node at (0,0,3.5) {z} (0,0,0) -- (0,0,3);
  \stopscope
%  \node[fill=white,fill opacity=0.7,text opacity=1] {RPY: 0,0,45};
\stoptikzpicture
\stoptext
